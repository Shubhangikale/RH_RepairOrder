package com.wcs.app.rh.main.utilities;

import java.util.Iterator;
import java.util.List;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Configuration;
import com.wcs.app.rh.main.models.ROInvoice;
import com.wcs.app.rh.main.serviceimpl.ServiceImplementation;
@Configuration
public class PreROInvoiceGenerator {
	@Autowired
	static ServiceImplementation serviceImplementation;
	private static String preRoInvoice = "RHRON00000001";
	public static String autoGeneratedPreRoInvoice() {
		try {
			List<ROInvoice> list = serviceImplementation.findAllROInvoice();
			if (!list.isEmpty()) {
				Iterator<ROInvoice> itr = list.iterator();
				while (itr.hasNext()) {
					ROInvoice roInvoice = itr.next();
					String tempPreRoInvoice = roInvoice.getRo_invioce_no();
					int num_digit = Integer.parseInt(tempPreRoInvoice.substring(tempPreRoInvoice.length() / 2));
					num_digit++;
					String string_digit = tempPreRoInvoice.substring(0, tempPreRoInvoice.length() / 2);
					preRoInvoice = string_digit + num_digit;
				}
			}
		} catch (Exception e) {
			// TODO: handle exception
			return preRoInvoice;
		}
		return preRoInvoice;
	}
}
